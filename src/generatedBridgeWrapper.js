module.exports = "import React from\"react\";import{Fragment as _Fragment2,jsx as _jsx2}from\"react/jsx-runtime\";function propsProcessor(e,t){return\"ImageOptimizer\"===e?{originalProps:t}:t}function ensureGlobalOverrides(){\"undefined\"!=typeof window&&(window.__elementOverrides=window.__elementOverrides||{})}function getStoredOverrides(e){return ensureGlobalOverrides(),window.__elementOverrides?.[e]||{}}function updateGlobalOverrides(e,t){ensureGlobalOverrides(),window.__elementOverrides&&(null===t||0===Object.keys(t).length?delete window.__elementOverrides[e]:window.__elementOverrides[e]=t)}function mergeStyles(e,t){return\"object\"!=typeof t||\"object\"!=typeof e?t:{...e||{},...t}}function mergeOverrides(e){const t=e.filter(e=>null!==e);if(0===t.length)return null;if(1===t.length)return t[0];let r={};for(const e of t)r={...r,...e},e.style&&r.style&&(r.style=\"object\"==typeof e.style&&\"object\"==typeof r.style?{...r.style,...e.style}:e.style),e.attributes&&r.attributes&&(r.attributes={...r.attributes,...e.attributes});return r}function getElementFilePath(e){if(\"undefined\"==typeof document)return null;const t=document.querySelector(`[data-editor-id=\"${e}\"]`);return t&&(t.getAttribute(\"data-component-file\")||t.getAttribute(\"data-rendered-by\"))||null}function BridgeWrapper({editorId:e,children:t,debug:r,messageType:n=\"ELEMENT_UPDATE\",componentName:i=\"Unknown\"}){const[o,s]=React.useState(()=>getStoredOverrides(e));if(React.useEffect(()=>{const t=t=>{if(t.data?.type!==n)return;const i=getElementFilePath(e);if(!i)return;const o=t.data.updates.filter(t=>t.editorId===e&&t.filePath===i),l=mergeOverrides(o.map(e=>e.overrides));r&&console.log(\"[BridgeWrapper]\",{editorId:e,newOverrides:l,count:o.length}),s(l||{}),updateGlobalOverrides(e,l)};if(\"undefined\"!=typeof window)return window.addEventListener(\"message\",t),()=>window.removeEventListener(\"message\",t)},[e,r,n]),1!==React.Children.count(t))return _jsx2(_Fragment2,{children:t});const l=React.Children.only(t);if(!React.isValidElement(l))return _jsx(_Fragment,{children:l});if(!o||0===Object.keys(o).length)return updateGlobalOverrides(e,null),t;const{children:d,attributes:a,...u}=o,c=l.props,p={...c,...a??{},...u,style:u.style?mergeStyles(c.style,u.style):c.style},f=d??c.children,m=propsProcessor(i,p);return updateGlobalOverrides(e,{...m,children:f}),r&&console.log(\"[BridgeWrapper] Applied:\",{editorId:e,props:m}),React.cloneElement(l,m,f)}export{BridgeWrapper};export default BridgeWrapper;";